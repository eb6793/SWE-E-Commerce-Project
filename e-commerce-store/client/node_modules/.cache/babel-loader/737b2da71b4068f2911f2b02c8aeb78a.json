{"ast":null,"code":"const Errors = require(\"../Errors\");\n\nconst Promise = require(\"promise\");\n\nconst Request = require(\"../Request\");\n\nconst Result = require(\"./Result\");\n/**\n * This client sends lookups to the SmartyStreets US Extract API, <br>\n *     and attaches the results to the Lookup objects.\n */\n\n\nclass Client {\n  constructor(sender) {\n    this.sender = sender;\n  }\n\n  send(lookup) {\n    if (typeof lookup === \"undefined\") throw new Errors.UndefinedLookupError();\n    let request = new Request(lookup.text);\n    request.parameters = buildRequestParams(lookup);\n    return new Promise((resolve, reject) => {\n      this.sender.send(request).then(response => {\n        if (response.error) reject(response.error);\n        lookup.result = new Result(response.payload);\n        resolve(lookup);\n      }).catch(reject);\n    });\n\n    function buildRequestParams(lookup) {\n      return {\n        html: lookup.html,\n        aggressive: lookup.aggressive,\n        addr_line_breaks: lookup.addressesHaveLineBreaks,\n        addr_per_line: lookup.addressesPerLine\n      };\n    }\n  }\n\n}\n\nmodule.exports = Client;","map":{"version":3,"sources":["/Users/fazalmahmood/SWE-E-Commerce-Project/e-commerce-store/client/node_modules/smartystreets-javascript-sdk/src/us_extract/Client.js"],"names":["Errors","require","Promise","Request","Result","Client","constructor","sender","send","lookup","UndefinedLookupError","request","text","parameters","buildRequestParams","resolve","reject","then","response","error","result","payload","catch","html","aggressive","addr_line_breaks","addressesHaveLineBreaks","addr_per_line","addressesPerLine","module","exports"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,YAAD,CAAvB;;AACA,MAAMG,MAAM,GAAGH,OAAO,CAAC,UAAD,CAAtB;AAEA;;;;;;AAIA,MAAMI,MAAN,CAAa;AACZC,EAAAA,WAAW,CAACC,MAAD,EAAS;AACnB,SAAKA,MAAL,GAAcA,MAAd;AACA;;AAEDC,EAAAA,IAAI,CAACC,MAAD,EAAS;AACZ,QAAI,OAAOA,MAAP,KAAkB,WAAtB,EAAmC,MAAM,IAAIT,MAAM,CAACU,oBAAX,EAAN;AAEnC,QAAIC,OAAO,GAAG,IAAIR,OAAJ,CAAYM,MAAM,CAACG,IAAnB,CAAd;AACAD,IAAAA,OAAO,CAACE,UAAR,GAAqBC,kBAAkB,CAACL,MAAD,CAAvC;AAEA,WAAO,IAAIP,OAAJ,CAAY,CAACa,OAAD,EAAUC,MAAV,KAAqB;AACvC,WAAKT,MAAL,CAAYC,IAAZ,CAAiBG,OAAjB,EACEM,IADF,CACOC,QAAQ,IAAI;AACjB,YAAIA,QAAQ,CAACC,KAAb,EAAoBH,MAAM,CAACE,QAAQ,CAACC,KAAV,CAAN;AAEpBV,QAAAA,MAAM,CAACW,MAAP,GAAgB,IAAIhB,MAAJ,CAAWc,QAAQ,CAACG,OAApB,CAAhB;AACAN,QAAAA,OAAO,CAACN,MAAD,CAAP;AACA,OANF,EAOEa,KAPF,CAOQN,MAPR;AAQA,KATM,CAAP;;AAWA,aAASF,kBAAT,CAA4BL,MAA5B,EAAoC;AACnC,aAAO;AACNc,QAAAA,IAAI,EAAEd,MAAM,CAACc,IADP;AAENC,QAAAA,UAAU,EAAEf,MAAM,CAACe,UAFb;AAGNC,QAAAA,gBAAgB,EAAEhB,MAAM,CAACiB,uBAHnB;AAINC,QAAAA,aAAa,EAAElB,MAAM,CAACmB;AAJhB,OAAP;AAMA;AACD;;AA9BW;;AAiCbC,MAAM,CAACC,OAAP,GAAiBzB,MAAjB","sourcesContent":["const Errors = require(\"../Errors\");\nconst Promise = require(\"promise\");\nconst Request = require(\"../Request\");\nconst Result = require(\"./Result\");\n\n/**\n * This client sends lookups to the SmartyStreets US Extract API, <br>\n *     and attaches the results to the Lookup objects.\n */\nclass Client {\n\tconstructor(sender) {\n\t\tthis.sender = sender;\n\t}\n\n\tsend(lookup) {\n\t\tif (typeof lookup === \"undefined\") throw new Errors.UndefinedLookupError();\n\n\t\tlet request = new Request(lookup.text);\n\t\trequest.parameters = buildRequestParams(lookup);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.sender.send(request)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.error) reject(response.error);\n\n\t\t\t\t\tlookup.result = new Result(response.payload);\n\t\t\t\t\tresolve(lookup);\n\t\t\t\t})\n\t\t\t\t.catch(reject);\n\t\t});\n\n\t\tfunction buildRequestParams(lookup) {\n\t\t\treturn {\n\t\t\t\thtml: lookup.html,\n\t\t\t\taggressive: lookup.aggressive,\n\t\t\t\taddr_line_breaks: lookup.addressesHaveLineBreaks,\n\t\t\t\taddr_per_line: lookup.addressesPerLine,\n\t\t\t};\n\t\t}\n\t}\n}\n\nmodule.exports = Client;"]},"metadata":{},"sourceType":"script"}