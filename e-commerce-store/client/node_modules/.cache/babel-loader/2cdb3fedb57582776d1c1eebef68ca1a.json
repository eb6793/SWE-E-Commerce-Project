{"ast":null,"code":"const Promise = require(\"promise\");\n\nconst UnprocessableEntityError = require(\"./Errors\").UnprocessableEntityError;\n\nconst SharedCredentials = require(\"./SharedCredentials\");\n\nclass SigningSender {\n  constructor(innerSender, signer) {\n    this.signer = signer;\n    this.sender = innerSender;\n  }\n\n  send(request) {\n    const sendingPostWithSharedCredentials = request.payload && this.signer instanceof SharedCredentials;\n\n    if (sendingPostWithSharedCredentials) {\n      const message = \"Shared credentials cannot be used in batches with a length greater than 1 or when using the US Extract API.\";\n      throw new UnprocessableEntityError(message);\n    }\n\n    return new Promise((resolve, reject) => {\n      this.signer.sign(request);\n      this.sender.send(request).then(resolve).catch(reject);\n    });\n  }\n\n}\n\nmodule.exports = SigningSender;","map":{"version":3,"sources":["/Users/fazalmahmood/SWE-E-Commerce-Project/e-commerce-store/client/node_modules/smartystreets-javascript-sdk/src/SigningSender.js"],"names":["Promise","require","UnprocessableEntityError","SharedCredentials","SigningSender","constructor","innerSender","signer","sender","send","request","sendingPostWithSharedCredentials","payload","message","resolve","reject","sign","then","catch","module","exports"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,wBAAwB,GAAGD,OAAO,CAAC,UAAD,CAAP,CAAoBC,wBAArD;;AACA,MAAMC,iBAAiB,GAAGF,OAAO,CAAC,qBAAD,CAAjC;;AAEA,MAAMG,aAAN,CAAoB;AACnBC,EAAAA,WAAW,CAACC,WAAD,EAAcC,MAAd,EAAsB;AAChC,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,MAAL,GAAcF,WAAd;AACA;;AAEDG,EAAAA,IAAI,CAACC,OAAD,EAAU;AACb,UAAMC,gCAAgC,GAAGD,OAAO,CAACE,OAAR,IAAmB,KAAKL,MAAL,YAAuBJ,iBAAnF;;AACA,QAAIQ,gCAAJ,EAAsC;AACrC,YAAME,OAAO,GAAG,6GAAhB;AACA,YAAM,IAAIX,wBAAJ,CAA6BW,OAA7B,CAAN;AACA;;AAED,WAAO,IAAIb,OAAJ,CAAY,CAACc,OAAD,EAAUC,MAAV,KAAqB;AACvC,WAAKR,MAAL,CAAYS,IAAZ,CAAiBN,OAAjB;AACA,WAAKF,MAAL,CAAYC,IAAZ,CAAiBC,OAAjB,EACEO,IADF,CACOH,OADP,EAEEI,KAFF,CAEQH,MAFR;AAGA,KALM,CAAP;AAMA;;AAnBkB;;AAsBpBI,MAAM,CAACC,OAAP,GAAiBhB,aAAjB","sourcesContent":["const Promise = require(\"promise\");\nconst UnprocessableEntityError = require(\"./Errors\").UnprocessableEntityError;\nconst SharedCredentials = require(\"./SharedCredentials\");\n\nclass SigningSender {\n\tconstructor(innerSender, signer) {\n\t\tthis.signer = signer;\n\t\tthis.sender = innerSender;\n\t}\n\n\tsend(request) {\n\t\tconst sendingPostWithSharedCredentials = request.payload && this.signer instanceof SharedCredentials;\n\t\tif (sendingPostWithSharedCredentials) {\n\t\t\tconst message = \"Shared credentials cannot be used in batches with a length greater than 1 or when using the US Extract API.\";\n\t\t\tthrow new UnprocessableEntityError(message);\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.signer.sign(request);\n\t\t\tthis.sender.send(request)\n\t\t\t\t.then(resolve)\n\t\t\t\t.catch(reject);\n\t\t});\n\t}\n}\n\nmodule.exports = SigningSender;"]},"metadata":{},"sourceType":"script"}