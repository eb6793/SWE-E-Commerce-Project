{"ast":null,"code":"var _jsxFileName = \"/Users/fazalmahmood/SWE-E-Commerce-Project/e-commerce-store/client/src/components/Account/AccountEdit.js\";\nimport React, { Component } from \"react\";\nimport Title from \"../../components/General/Title\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nexport default class AccountEdit extends Component {\n  constructor(props) {\n    super(props); // Assign state itself, and a default value for items\n\n    this.state = {\n      email_address: \"\",\n      address_line1: \"\",\n      address_line2: \"\",\n      address_secondary: \"\",\n      address_zipcode: \"\",\n      address_city: \"\",\n      address_state: \"\",\n      id: \"\",\n      first_name: \"\",\n      last_name: \"\"\n    };\n    this.redirect = false;\n  }\n\n  async componentDidMount() {\n    await this.loadUserValues();\n  }\n\n  loadUserValues() {\n    return new Promise(resolve => {\n      axios.get(\"http://localhost:4000/catweallgetalong/sessions/user-info\").then(response => {\n        this.setState({\n          address_line1: response.data[0].shipping_address[0].street1,\n          address_line2: response.data[0].shipping_address[0].street2,\n          address_secondary: response.data[0].shipping_address[0].secondary,\n          address_zipcode: response.data[0].shipping_address[0].zipcode,\n          address_city: response.data[0].shipping_address[0].city,\n          address_state: response.data[0].shipping_address[0].state,\n          email_address: response.data[0].email_address,\n          first_name: response.data[0].first_name,\n          last_name: response.data[0].last_name,\n          id: response.data[0]._id\n        }, () => {\n          console.log(address_line1);\n          console.log(address_line2);\n          console.log(address_secondary);\n          console.log(address_zipcode);\n          console.log(address_city);\n          console.log(address_state);\n          console.log(this.state.email_address);\n          console.log(this.state.first_name);\n          console.log(this.state.last_name);\n          console.log(this.state.id);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n  }\n\n  removeSession() {\n    return new Promise(resolve => {\n      axios.post(\"http://localhost:4000/catweallgetalong/sessions/logout\").then(response => {\n        if (response === \"out\") this.sessionAdded = true;\n        resolve(\"resolved\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n  }\n\n  async logoutUser() {\n    // remove session\n    await this.removeSession(); // redirect to \"/\"\n\n    this.redirect = true;\n    this.forceUpdate(); // refresh page (will eliminate cart!)\n\n    window.location.reload(false);\n  }\n\n  render() {\n    if (this.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        push: true,\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: this.logoutUser.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, \"Logout\")), /*#__PURE__*/React.createElement(Title, {\n      name: \"Edit\",\n      title: \"Account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/fazalmahmood/SWE-E-Commerce-Project/e-commerce-store/client/src/components/Account/AccountEdit.js"],"names":["React","Component","Title","Redirect","axios","AccountEdit","constructor","props","state","email_address","address_line1","address_line2","address_secondary","address_zipcode","address_city","address_state","id","first_name","last_name","redirect","componentDidMount","loadUserValues","Promise","resolve","get","then","response","setState","data","shipping_address","street1","street2","secondary","zipcode","city","_id","console","log","catch","error","removeSession","post","sessionAdded","logoutUser","forceUpdate","window","location","reload","render","display","flexDirection","justifyContent","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Title from \"../../components/General/Title\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class AccountEdit extends Component {\n    constructor(props) {\n        super(props);\n        // Assign state itself, and a default value for items\n        this.state = {\n            email_address: \"\",\n            address_line1: \"\",\n            address_line2: \"\",\n            address_secondary: \"\",\n            address_zipcode: \"\",\n            address_city: \"\",\n            address_state: \"\",\n            id: \"\",\n            first_name: \"\",\n            last_name: \"\",\n        };\n\n        this.redirect = false;\n    }\n\n    async componentDidMount() {\n        await this.loadUserValues();\n    }\n\n    loadUserValues() {\n        return new Promise((resolve) => {\n            axios\n                .get(\n                    \"http://localhost:4000/catweallgetalong/sessions/user-info\"\n                )\n                .then((response) => {\n                    this.setState(\n                        {\n                            address_line1:\n                                response.data[0].shipping_address[0].street1,\n                            address_line2:\n                                response.data[0].shipping_address[0].street2,\n                            address_secondary:\n                                response.data[0].shipping_address[0].secondary,\n                            address_zipcode:\n                                response.data[0].shipping_address[0].zipcode,\n                            address_city:\n                                response.data[0].shipping_address[0].city,\n                            address_state:\n                                response.data[0].shipping_address[0].state,\n                            email_address: response.data[0].email_address,\n                            first_name: response.data[0].first_name,\n                            last_name: response.data[0].last_name,\n                            id: response.data[0]._id,\n                        },\n                        () => {\n                            console.log(address_line1);\n                            console.log(address_line2);\n                            console.log(address_secondary);\n                            console.log(address_zipcode);\n                            console.log(address_city);\n                            console.log(address_state);\n                            console.log(this.state.email_address);\n                            console.log(this.state.first_name);\n                            console.log(this.state.last_name);\n                            console.log(this.state.id);\n                        }\n                    );\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        });\n    }\n\n    removeSession() {\n        return new Promise((resolve) => {\n            axios\n                .post(\"http://localhost:4000/catweallgetalong/sessions/logout\")\n                .then((response) => {\n                    if (response === \"out\") this.sessionAdded = true;\n                    resolve(\"resolved\");\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        });\n    }\n\n    async logoutUser() {\n        // remove session\n        await this.removeSession();\n        // redirect to \"/\"\n        this.redirect = true;\n        this.forceUpdate();\n        // refresh page (will eliminate cart!)\n        window.location.reload(false);\n    }\n\n    render() {\n        if (this.redirect) {\n            return <Redirect push to=\"/\" />;\n        }\n        return (\n            <React.Fragment>\n                <div>\n                    <div\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"row\",\n                            justifyContent: \"flex-end\",\n                        }}\n                    >\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-danger\"\n                            onClick={this.logoutUser.bind(this)}\n                        >\n                            Logout\n                        </button>\n                    </div>\n                    <Title name=\"Edit\" title=\"Account\" />\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}