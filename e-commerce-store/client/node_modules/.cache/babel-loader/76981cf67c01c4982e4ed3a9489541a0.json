{"ast":null,"code":"var _jsxFileName = \"/Users/fazalmahmood/SWE-E-Commerce-Project/e-commerce-store/client/src/components/Account/AccountEdit.js\";\nimport React, { Component } from \"react\";\nimport Title from \"../../components/General/Title\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nexport default class AccountEdit extends Component {\n  constructor(props) {\n    super(props); // Assign state itself, and a default value for items\n\n    this.state = {\n      email_address: \"\",\n      shipping_address: [],\n      id: \"\",\n      first_name: \"\",\n      last_name: \"\"\n    };\n    this.redirect = false;\n  }\n\n  async componentDidMount() {\n    await this.loadUserValues();\n  }\n\n  loadUserValues() {\n    return new Promise(resolve => {\n      axios.get(\"http://localhost:4000/catweallgetalong/sessions/user-info\").then(response => {\n        this.setState({\n          shipping_address: response.data[0].shipping_address,\n          email_address: response.data[0].email_address,\n          first_name: response.data[0].first_name,\n          last_name: response.data[0].last_name,\n          id: response.data[0]._id\n        }, () => {\n          console.log(shipping_address);\n          console.log(email_address);\n          console.log(first_name);\n          console.log(last_name);\n          console.log(id);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n  }\n\n  removeSession() {\n    return new Promise(resolve => {\n      axios.post(\"http://localhost:4000/catweallgetalong/sessions/logout\").then(response => {\n        if (response === \"out\") this.sessionAdded = true;\n        resolve(\"resolved\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n  }\n\n  async logoutUser() {\n    // remove session\n    await this.removeSession(); // redirect to \"/\"\n\n    this.redirect = true;\n    this.forceUpdate(); // refresh page (will eliminate cart!)\n\n    window.location.reload(false);\n  }\n\n  render() {\n    if (this.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        push: true,\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: this.logoutUser.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"Logout\")), /*#__PURE__*/React.createElement(Title, {\n      name: \"Edit\",\n      title: \"Account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/fazalmahmood/SWE-E-Commerce-Project/e-commerce-store/client/src/components/Account/AccountEdit.js"],"names":["React","Component","Title","Redirect","axios","AccountEdit","constructor","props","state","email_address","shipping_address","id","first_name","last_name","redirect","componentDidMount","loadUserValues","Promise","resolve","get","then","response","setState","data","_id","console","log","catch","error","removeSession","post","sessionAdded","logoutUser","forceUpdate","window","location","reload","render","display","flexDirection","justifyContent","bind"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Title from \"../../components/General/Title\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nexport default class AccountEdit extends Component {\n    constructor(props) {\n        super(props);\n        // Assign state itself, and a default value for items\n        this.state = {\n            email_address: \"\",\n            shipping_address: [],\n            id: \"\",\n            first_name: \"\",\n            last_name: \"\",\n        };\n\n        this.redirect = false;\n    }\n\n    async componentDidMount() {\n        await this.loadUserValues();\n    }\n\n    loadUserValues() {\n        return new Promise((resolve) => {\n            axios\n                .get(\n                    \"http://localhost:4000/catweallgetalong/sessions/user-info\"\n                )\n                .then((response) => {\n                    this.setState(\n                        {\n                            shipping_address: response.data[0].shipping_address,\n                            email_address: response.data[0].email_address,\n                            first_name: response.data[0].first_name,\n                            last_name: response.data[0].last_name,\n                            id: response.data[0]._id,\n                        },\n                        () => {\n                            console.log(shipping_address);\n                            console.log(email_address);\n                            console.log(first_name);\n                            console.log(last_name);\n                            console.log(id);\n                        }\n                    );\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        });\n    }\n\n    removeSession() {\n        return new Promise((resolve) => {\n            axios\n                .post(\"http://localhost:4000/catweallgetalong/sessions/logout\")\n                .then((response) => {\n                    if (response === \"out\") this.sessionAdded = true;\n                    resolve(\"resolved\");\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        });\n    }\n\n    async logoutUser() {\n        // remove session\n        await this.removeSession();\n        // redirect to \"/\"\n        this.redirect = true;\n        this.forceUpdate();\n        // refresh page (will eliminate cart!)\n        window.location.reload(false);\n    }\n\n    render() {\n        if (this.redirect) {\n            return <Redirect push to=\"/\" />;\n        }\n        return (\n            <React.Fragment>\n                <div>\n                    <div\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"row\",\n                            justifyContent: \"flex-end\",\n                        }}\n                    >\n                        <button\n                            type=\"button\"\n                            className=\"btn btn-danger\"\n                            onClick={this.logoutUser.bind(this)}\n                        >\n                            Logout\n                        </button>\n                    </div>\n                    <Title name=\"Edit\" title=\"Account\" />\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}